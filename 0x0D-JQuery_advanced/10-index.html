<!DOCTYPE html>

<html lang="en" dir="ltr">
  <head>
    <script
      src="https://code.jquery.com/jquery-3.5.1.js"
      integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
      crossorigin="anonymous"
    ></script>
    <meta charset="utf-8" />
    <title>Task 7</title>
  </head>
  <body>
    <script type="application/javascript">
      function addPostRow(data) {
        $core = $(
          `<span>Post created with id ${data.id}, title: ${data.title} , author: ${data.author}</span>`
        );
        $("body").append("<p></p>");
        $("p:last").append($core);
      }

      function listPosts() {
        $.get("http://localhost:3000/posts")
          .then(function (response) {
            response.forEach(function (success) {
              addPostRow(success);
            });
          })
          .fail(function () {
            alert("Server Error");
          });
      }
      listPosts();
    </script>
  </body>
</html>
